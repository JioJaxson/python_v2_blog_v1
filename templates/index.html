<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>个人博客</title>
    <link rel="stylesheet" href="/static/my/css/reset.css">
    <link rel="stylesheet" href="/static/my/css/index.css">
    <script src="/static/vue/vue.js"></script>

</head>
<body>
<div id="app">
    <link rel="stylesheet" :href="'/static/my/css/theme/'+ theme +'.css'">

    <nav>
        <div class="left">
            <a href="#">首页</a>
            <a href="#">新闻</a>
            <a href="#">心情</a>
            <a href="#">关于</a>
        </div>
        <div class="right">
            <img v-show="theme==='light'" src="/static/my/img/nav/light.svg" @click="setTheme('dark')" alt="">
            <img v-show="theme==='dark'" src="/static/my/img/nav/dark.svg" @click="setTheme('light')" alt="">
            <a href="#">登陆</a>
            <a href="#">注册</a>
        </div>
    </nav>
    <header>
        {% for img in img_list %}
            <div class="header_banner">
                <img src="{{ img }}" alt="">
            </div>
        {% endfor %}
    </header>
    <main>
        {{ img_list }}
        内容区域
    </main>
    <footer>
        底部区域
    </footer>
</div>
<script>
    new Vue({
        el: '#app',
        delimiters: ["[[", "]]"],

        data: {
            theme: 'light',//默认主题
        },
        created() {
            this.init_theme()
        },
        methods: {
            setTheme(themeName) {
                this.theme = themeName;
                //持久化存储
                localStorage.setItem('theme', themeName)
            },
            // 初始化主题
            init_theme() {
                // 读取存储的主题色
                let theme = localStorage.getItem('theme')
                if (theme) {
                    this.theme = theme
                }
            }
        }

    })
    // 轮播图
    let banner_list = document.querySelectorAll('.header_banner')
    {#console.log(banner_list)#}

    let banner_list_length = banner_list.length
    let index = 0
    setInterval(() => {
        index++
        if (index === banner_list_length) {
            index = 0
        }
        // 样式复位操作 (排他思想)
        for (let i of banner_list) {
            i.style.opacity = 0
        }
        banner_list[index].style.opacity = 1
    }, 2000)
</script>

</body>
</html>